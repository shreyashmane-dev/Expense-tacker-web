import{g as d}from"./navbar-gesture-B7OxCqBy.js";import{Chart as c,registerables as m}from"https://cdn.jsdelivr.net/npm/chart.js@4.4.1/+esm";import"./firebase-CCPgoP9_.js";import"https://www.gstatic.com/firebasejs/10.12.4/firebase-app.js";import"https://www.gstatic.com/firebasejs/10.12.4/firebase-auth.js";import"https://www.gstatic.com/firebasejs/10.12.4/firebase-firestore.js";function f(){return d()}c.register(...m);const g=f()||[],a=document.getElementById("insights");g.length||a&&(a.innerHTML="<p>No data yet. Add some transactions.</p>");let s=0,r=0;const t={};g.forEach(e=>{const n=Number(e.amount)||0;if(e.type==="income"?s+=n:r+=n,e.type==="expense"){const p=e.category||"Uncategorized";t[p]=(t[p]||0)+n}});const l=document.getElementById("incomeExpenseChart");l&&new c(l,{type:"bar",data:{labels:["Income","Expense"],datasets:[{data:[s,r],backgroundColor:["#22c55e","#ef4444"],borderRadius:8}]},options:{responsive:!0,plugins:{legend:{display:!1}}}});const o=document.getElementById("categoryChart");o&&Object.keys(t).length>0?new c(o,{type:"doughnut",data:{labels:Object.keys(t),datasets:[{data:Object.values(t),backgroundColor:["#60a5fa","#34d399","#fbbf24","#f87171","#a78bfa"]}]}}):o&&(o.style.display="none");const i=Object.entries(t).sort((e,n)=>n[1]-e[1])[0];a&&(a.innerHTML=`    <h3>Insights</h3>    <p>Total Income: ₹${s.toLocaleString()}</p>    <p>Total Expense: ₹${r.toLocaleString()}</p>    <p>Balance: ₹${(s-r).toLocaleString()}</p>    ${i?`<p>Top spend: ${i[0]} (₹${i[1].toLocaleString()})</p>`:""}  `);
