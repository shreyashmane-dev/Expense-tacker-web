<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login â€¢ Expense Manager</title>
<link rel="stylesheet" href="../css/main.css">
<link rel="manifest" href="../manifest.json">
</head>
<body class="animate-up" style="display: flex; align-items: center; justify-content: center; min-height: 100vh; padding-bottom: 0;">

<div class="card" style="width: 100%; max-width: 400px; padding: 40px 32px; margin: 20px;">
  <div style="text-align: center; margin-bottom: 32px;">
    <div style="width: 64px; height: 64px; background: var(--grad-main); border-radius: 16px; margin: 0 auto 20px; display: flex; align-items: center; justify-content: center; font-size: 32px; color: white; box-shadow: var(--shadow-lg);">ðŸ’°</div>
    <h2 style="font-size: 28px; margin-bottom: 8px;">Welcome Back</h2>
    <p style="color: #64748b; font-size: 14px;">Log in to manage your finances.</p>
  </div>

  <p id="status" style="text-align: center; font-size: 13px; margin-bottom: 20px; font-weight: 600; padding: 10px; border-radius: 8px;"></p>
  
  <form id="login-form">
    <div class="form-group">
      <label style="font-size: 11px; text-transform: uppercase; color: #64748b; font-weight: 700; display: block; margin-bottom: 4px;">Email Address</label>
      <input type="email" id="email" placeholder="name@example.com" required>
      
      <label style="font-size: 11px; text-transform: uppercase; color: #64748b; font-weight: 700; display: block; margin-bottom: 4px;">Password</label>
      <input type="password" id="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required>
      
      <button type="submit" class="btn" style="margin-top: 8px;">Login</button>
    </div>
  </form>

  <div style="margin-top: 24px; text-align: center;">
    <p style="font-size: 14px; color: #64748b;">New here? <a href="signup.html" style="color: var(--primary); font-weight: 600; text-decoration: none;">Create an account</a></p>
  </div>

  <div style="margin-top: 32px; border-top: 1px solid #e2e8f0; padding-top: 24px;">
    <button id="skipBtn" class="btn btn-secondary" style="font-size: 14px; font-weight: 500;">
      Continue Offline ðŸš€
    </button>
    <p style="font-size: 11px; color: #94a3b8; text-align: center; margin-top: 12px;">Offline mode stores data locally on this device.</p>
  </div>
</div>

<script>
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("/sw.js");
  }

  function updateStatus() {
    const statusEl = document.getElementById("status");
    if (statusEl) {
      const isOnline = navigator.onLine;
      statusEl.textContent = isOnline ? "ðŸŸ¢ Online" : "ðŸ”´ Offline (Login requires internet)";
      statusEl.style.color = isOnline ? "var(--accent)" : "var(--danger)";
      statusEl.style.background = isOnline ? "rgba(16, 185, 129, 0.1)" : "rgba(239, 68, 68, 0.1)";
    }
  }
  window.addEventListener("online", updateStatus);
  window.addEventListener("offline", updateStatus);
  updateStatus();

  document.getElementById('skipBtn').addEventListener('click', () => {
    sessionStorage.setItem('guest_mode', 'true');
    window.location.href = '../dashboard/home.html';
  });
</script>

<script type="module" src="auth.js"></script>
</body>
</html>
